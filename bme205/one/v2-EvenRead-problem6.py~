#!/usr/bin/env python3
#Name: Allysia Mak (amak)
#Group Members: none

"""
Takes a file containing multiple lines of strings and returns the even lines of strings
Input: A file of strings with maximum of 1000 lines
Output: A file containing only the even numbered lines of the input file
"""

class evenRead():
    """ Contains command line parsing code and functions to sum the odd integers on the given interval """
    def __init__(self):
        """ Initializes argument parser """

        import sys
        import argparse
        #adapted from David Bernick's program.py skeleton code
        self.parser = argparse.ArgumentParser()
        self.parser.add_argument("infile", type=argparse.FileType('r'))
        self.parser.add_argument("outfile", type=argparse.FileType('w'))
        
        #http://docs.python.org/2/library/argparse.html#type
        self.args = self.parser.parse_args()


    def ExtractLines(self, arguments):
        """ utilizes a for loop and interval of 2 to extract even lines and add to output file """
        i=0
        try:
            for line in self.args.infile:
                if i%2 != 0:
                    self.args.outfile.write(line)
                    i+=1
                else: i+=1
        except:
            
            print("Cannot open file for reading")
            sys.exit(1)

def main():
    """ Retrieves command line arguments from class evenRead and passes them to the ExtractLines method """
    Evens = evenRead()

    Evens.ExtractLines(Evens.args)

if __name__== "__main__":
    main()
